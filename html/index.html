
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TrueSkillThroughTime.py &#8212; TrueSkillThroughTime 0.0.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Causal model" href="man/causal.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="trueskillthroughtime-py">
<h1>TrueSkillThroughTime.py<a class="headerlink" href="#trueskillthroughtime-py" title="Permalink to this headline">¶</a></h1>
<p><strong>The state-of-the-art skill model</strong>: <em>Individual learning curves with reliable initial estimates and guaranteed comparability between distant estimates.</em></p>
<div class="section" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m pip install trueskillthroughtime
</pre></div>
</div>
<p>The we can use it.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">trueskillthroughtime</span> <span class="k">as</span> <span class="nn">ttt</span>
</pre></div>
</div>
<ul class="simple">
<li><p>To appreciate the advantages of TrueSkill Through Time, scroll down to subsection <a class="reference internal" href="#sec-ilustration"><span class="std std-ref">Ilustration</span></a></p></li>
<li><p>To quickly see how to use the package, scroll down to subsection <a class="reference internal" href="#sec-first-examples"><span class="std std-ref">First examples</span></a>.</p></li>
</ul>
</div>
<div class="section" id="index">
<h2>Index<a class="headerlink" href="#index" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="man/causal.html">Causal model</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/gaussian.html">The <cite>Gaussian</cite> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/player.html">The <cite>Player</cite> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/game.html">The <cite>Game</cite> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/history.html">The <cite>History</cite> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/examples.html">Real examples</a></li>
</ul>
</div>
</div>
<div class="section" id="ilustration">
<span id="sec-ilustration"></span><h2>Ilustration<a class="headerlink" href="#ilustration" title="Permalink to this headline">¶</a></h2>
<p>To appreciate the advantages of TrueSkill Through Time, let’s see how it works in a real case.
The following figure presents the estimated learning curves of some famous male players in ATP’s history, which we identified using different colors (to see the source code go to section <cite>Real examples</cite>)</p>
<img alt="_images/atp.png" src="_images/atp.png" />
<p>The top bar indicates which player was at the top of the ATP’s ranking (the bar has no color when player number 1 is not included among the 10 players identified with colors).
There is a relative coincidence between the skill estimates and who is at any given moment at the top of the ATP rankings.
However, TrueSkill Through Time allows comparing the relative ability of players over time: the 10th player in the historical ATP’s ranking, Hewitt, is a product of the window of opportunity that was opened in the year 2000; and the 4th most skilled player, Murray, is ranked 14th just above Nastase.</p>
<p>The <strong>models commonly used in industry and academia</strong> (TrueSkill, Glicko, Item-Response Theory) propagates information from past events to future events.
Because this approach is an ad-hoc procedure that does not arise from any probabilistic model, its estimates have a number of problems.</p>
<img alt="_images/atp_trueskill.png" src="_images/atp_trueskill.png" />
<p>The advantage of TrueSkill Through Time lies in its temporal causal model, that links all historical activities in the same Bayesian network, guaranteeing reliable initial estimates and comparability between distant estimates.</p>
</div>
<div class="section" id="first-examples">
<span id="sec-first-examples"></span><h2>First examples<a class="headerlink" href="#first-examples" title="Permalink to this headline">¶</a></h2>
<p>We can update our skill estimates after a single event, or we can estimate the learning curves of all players from a history of events.
Let’s see both cases.</p>
<div class="section" id="a-single-game">
<h3>A single game<a class="headerlink" href="#a-single-game" title="Permalink to this headline">¶</a></h3>
<p>We use the <code class="code docutils literal notranslate"><span class="pre">Game</span></code> class to model events and perform inference.
The features of the agents are defined within <code class="code docutils literal notranslate"><span class="pre">Player</span></code> class.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a1</span> <span class="o">=</span> <span class="n">ttt</span><span class="o">.</span><span class="n">Player</span><span class="p">();</span> <span class="n">a2</span> <span class="o">=</span> <span class="n">ttt</span><span class="o">.</span><span class="n">Player</span><span class="p">();</span> <span class="n">a3</span> <span class="o">=</span> <span class="n">ttt</span><span class="o">.</span><span class="n">Player</span><span class="p">();</span> <span class="n">a4</span> <span class="o">=</span> <span class="n">ttt</span><span class="o">.</span><span class="n">Player</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">team_a</span> <span class="o">=</span> <span class="p">[</span> <span class="n">a1</span><span class="p">,</span> <span class="n">a2</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">team_b</span> <span class="o">=</span> <span class="p">[</span> <span class="n">a3</span><span class="p">,</span> <span class="n">a4</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">ttt</span><span class="o">.</span><span class="n">Game</span><span class="p">([</span><span class="n">team_a</span><span class="p">,</span> <span class="n">team_b</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">posteriors</span><span class="p">()</span>
<span class="go">[[N(mu=2.361, sigma=5.516), N(mu=2.361, sigma=5.516)], [N(mu=-2.361, sigma=5.516), N(mu=-2.361, sigma=5.516)]]</span>
</pre></div>
</div>
<p>where the teams’ order in the list implicitly defines the game’s result: the teams appearing first in the list (lower index) beat those appearing later (higher index).
This is one of the simplest usage examples.
Later on, we will learn how to explicitly specify the result, and others features.</p>
</div>
<div class="section" id="a-history-of-events">
<span id="sec-history-of-events"></span><h3>A history of events<a class="headerlink" href="#a-history-of-events" title="Permalink to this headline">¶</a></h3>
<p>We use the <code class="code docutils literal notranslate"><span class="pre">History</span></code> class to compute the learning curves and predictions of a sequence of events.
We will define the composition of each game using the names of the agents (i.e. their identifiers).
In the following example, all agents (<code class="code docutils literal notranslate"><span class="pre">&quot;a&quot;,</span> <span class="pre">&quot;b&quot;,</span> <span class="pre">&quot;c&quot;</span></code>) win one game and lose the other.
The results will be implicitly defined by the order in which the game compositions are initialized: the teams appearing firstly in the list defeat those appearing later.
By initializing <code class="code docutils literal notranslate"><span class="pre">gamma</span> <span class="pre">=</span> <span class="pre">0.0</span></code> we specify that skills do not change over time.
In this example, where all agents beat each other and their skills do not change over time, the data suggest that all agents have the same skill.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;a&quot;</span><span class="p">],[</span><span class="s2">&quot;b&quot;</span><span class="p">]]</span>
<span class="n">c2</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;b&quot;</span><span class="p">],[</span><span class="s2">&quot;c&quot;</span><span class="p">]]</span>
<span class="n">c3</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;c&quot;</span><span class="p">],[</span><span class="s2">&quot;a&quot;</span><span class="p">]]</span>
<span class="n">composition</span> <span class="o">=</span> <span class="p">[</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">c3</span><span class="p">]</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">ttt</span><span class="o">.</span><span class="n">History</span><span class="p">(</span><span class="n">composition</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
<p>After initialization, the <code class="code docutils literal notranslate"><span class="pre">History</span></code> class immediately instantiates a new player for each name and activates the computation of the TrueSkill estimates (not yet TrueSkill Through Time).
To access them we can call the method <code class="code docutils literal notranslate"><span class="pre">learning_curves()</span></code>, which returns a dictionary indexed by the names of the agents.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">learning_curves</span><span class="p">()[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="go">[(1, N(mu=3.339, sigma=4.985)), (3, N(mu=-2.688, sigma=3.779))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">learning_curves</span><span class="p">()[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>
<span class="go">[(1, N(mu=-3.339, sigma=4.985)), (2, N(mu=0.059, sigma=4.218))]</span>
</pre></div>
</div>
<p>Individual learning curves are lists of tuples: each tuple has the time of the estimate as the first component and the estimate itself as the second one.
Although in this example no player is stronger than the others, the TrueSkill estimates present strong variations between players.
TrueSkill Through Time solves TrueSkill’s inability to obtain correct estimates by allowing the information to propagate throughout the system.
To compute them, we call the method <code class="code docutils literal notranslate"><span class="pre">convergence()</span></code> of the <code class="code docutils literal notranslate"><span class="pre">History</span></code> class.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">convergence</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">learning_curves</span><span class="p">()[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="go">[(1, N(mu=0.000, sigma=2.395)), (3, N(mu=-0.000, sigma=2.395))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">learning_curves</span><span class="p">()[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>
<span class="go">[(1, N(mu=-0.000, sigma=2.395)), (2, N(mu=-0.000, sigma=2.395))]</span>
</pre></div>
</div>
<p>TrueSkill Through Time not only returns correct estimates (same for all players), they also have less uncertainty.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">TrueSkillThroughTime</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="man/causal.html">Causal model</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/gaussian.html">The <cite>Gaussian</cite> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/player.html">The <cite>Player</cite> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/game.html">The <cite>Game</cite> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/history.html">The <cite>History</cite> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="man/examples.html">Real examples</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="man/causal.html" title="next chapter">Causal model</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Gustavo Landfried.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>